(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{3023:(e,t,r)=>{Promise.resolve().then(r.bind(r,9929))},3997:(e,t,r)=>{"use strict";r.d(t,{$H:()=>n,JE:()=>l,QB:()=>o,ZZ:()=>d,_X:()=>i,dE:()=>x,jm:()=>s,nV:()=>c,vD:()=>u,xj:()=>m});var a=r(3217);async function s(){try{let{data:{session:e}}=await a.ND.auth.getSession();if(!(null==e?void 0:e.user))return!1;let t=e.user.email,{data:r,error:s}=await a.ND.from("admin_users").select("role, email, is_active").eq("user_id",e.user.id).eq("is_active",!0).maybeSingle();if(s&&"PGRST116"!==s.code){if(console.error("❌ [isSuperAdmin] Erro na query:",s),"brunocostaads23@gmail.com"===t){console.warn("⚠️ [isSuperAdmin] Admin n\xe3o encontrado na tabela, mas email \xe9 admin master. Criando registro...");try{let{error:r}=await a.ND.from("admin_users").insert({user_id:e.user.id,email:t,role:"super_admin",can_manage_tenants:!0,can_manage_subscriptions:!0,can_view_analytics:!0,is_active:!0});if(!r)return!0}catch(e){console.error("❌ [isSuperAdmin] Erro ao criar registro de admin:",e)}}return!1}if(!r){if(console.warn("⚠️ [isSuperAdmin] Nenhum registro de admin encontrado"),"brunocostaads23@gmail.com"===t)return!0;return!1}return"super_admin"===r.role}catch(e){return console.error("❌ [isSuperAdmin] Erro ao verificar super admin:",e),console.error("❌ [isSuperAdmin] Stack:",e.stack),!1}}async function i(){try{let{data:e,error:t}=await a.ND.from("tenants").select("*").order("created_at",{ascending:!1}).limit(50);if(t)throw t;return e||[]}catch(e){throw console.error("❌ Erro ao listar tenants:",e),e}}async function l(e){try{let{data:t,error:r}=await a.ND.from("tenants").insert({name:e.name,slug:e.slug,email:e.email||null,phone:e.phone||null,is_active:!0}).select().single();if(r)throw r;return t}catch(e){throw console.error("❌ Erro ao criar tenant:",e),e}}async function o(e,t){try{let{data:r,error:s}=await a.ND.from("tenants").update(t).eq("id",e).select().single();if(s)throw s;return r}catch(e){throw console.error("❌ Erro ao atualizar tenant:",e),e}}async function n(){try{let{data:e,error:t}=await a.ND.from("subscriptions").select("\n        *,\n        plan:plans(*),\n        user:profiles(id, email, full_name)\n      ").order("created_at",{ascending:!1}).limit(50);if(t)throw t;return e||[]}catch(e){throw console.error("❌ Erro ao listar subscriptions:",e),e}}async function c(e,t){try{let{data:r,error:s}=await a.ND.from("subscriptions").update(t).eq("id",e).select("\n        *,\n        plan:plans(*)\n      ").single();if(s)throw s;return r}catch(e){throw console.error("❌ Erro ao atualizar subscription:",e),e}}async function d(){try{let{data:e,error:t}=await a.ND.from("profiles").select("\n        id, \n        email, \n        full_name,\n        subscriptions (\n          id,\n          plan_id,\n          status,\n          trial_ends_at,\n          subscription_ends_at,\n          is_active\n        )\n      ").order("created_at",{ascending:!1}).limit(50);if(t)throw t;if(!e)return[];return e.map(e=>{var t;let r=(null==(t=e.subscriptions)?void 0:t.find(e=>!0===e.is_active))||null;return{id:e.id,email:e.email,full_name:e.full_name,subscription:r?{id:r.id,plan_id:r.plan_id,status:r.status,trial_ends_at:r.trial_ends_at,subscription_ends_at:r.subscription_ends_at}:null}})}catch(e){throw console.error("❌ Erro ao listar usu\xe1rios:",e),e}}async function m(e){try{let{data:t,error:r}=await a.ND.auth.admin.createUser({email:e.email,password:e.password,email_confirm:!0,user_metadata:{full_name:e.fullName}});if(r)throw console.error("❌ Erro ao criar usu\xe1rio:",r),Error("Erro ao criar usu\xe1rio: ".concat(r.message));if(!t.user)throw Error("Usu\xe1rio n\xe3o foi criado corretamente");let s=t.user.id,{error:i}=await a.ND.from("profiles").upsert({id:s,email:e.email,full_name:e.fullName});i&&console.warn("⚠️ Erro ao criar perfil (pode j\xe1 existir):",i);let{data:l,error:o}=await a.ND.from("plans").select("id").eq("name","premium").single();if(o||!l)throw console.error("❌ Plano premium n\xe3o encontrado:",o),Error("Plano premium n\xe3o encontrado no banco de dados");let{error:n}=await a.ND.from("subscriptions").insert({user_id:s,plan_id:l.id,status:"active",is_active:!0,subscription_started_at:new Date().toISOString()});if(n)throw console.error("❌ Erro ao criar subscription:",n),Error("Erro ao criar subscription premium: ".concat(n.message));return{userId:s,message:"Usu\xe1rio ".concat(e.email," criado com sucesso e subscription premium ativada!")}}catch(e){throw console.error("❌ Erro ao criar usu\xe1rio com premium:",e),e}}async function u(e,t){try{let{data:r,error:s}=await a.ND.from("plans").select("id, trial_days").eq("name",t).single();if(s||!r)throw Error("Plano ".concat(t," n\xe3o encontrado"));await a.ND.from("subscriptions").update({is_active:!1}).eq("user_id",e);let i={user_id:e,plan_id:r.id,is_active:!0};if("trial"===t&&r.trial_days){let e=new Date,t=new Date(e);t.setDate(t.getDate()+r.trial_days),i.status="trial",i.trial_started_at=e.toISOString(),i.trial_ends_at=t.toISOString()}else i.status="active",i.subscription_started_at=new Date().toISOString();let{error:l}=await a.ND.from("subscriptions").insert(i);if(l)throw Error("Erro ao criar nova subscription: ".concat(l.message));return{message:"Plano alterado para ".concat("premium"===t?"Premium":"Trial"," com sucesso!")}}catch(e){throw console.error("❌ Erro ao alterar plano:",e),e}}async function x(){try{let[{count:e},{count:t},{count:r},{count:s},{count:i}]=await Promise.all([a.ND.from("profiles").select("*",{count:"exact",head:!0}),a.ND.from("subscriptions").select("*",{count:"exact",head:!0}).eq("is_active",!0),a.ND.from("subscriptions").select("*",{count:"exact",head:!0}).eq("is_active",!0).eq("status","trial"),a.ND.from("subscriptions").select("*",{count:"exact",head:!0}).eq("is_active",!0).eq("status","active"),a.ND.from("tenants").select("*",{count:"exact",head:!0})]);return{totalUsers:e||0,activeSubscriptions:t||0,trialUsers:r||0,premiumUsers:s||0,totalTenants:i||0}}catch(e){throw console.error("❌ Erro ao buscar estat\xedsticas:",e),e}}},8525:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var a=r(6010),s=r(5704);function i(){let e=s.env.NEXT_PUBLIC_SUPABASE_URL,t=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;return e&&t||console.warn("⚠️ Vari\xe1veis de ambiente do Supabase n\xe3o configuradas. O cliente Supabase pode n\xe3o funcionar corretamente."),(0,a.createBrowserClient)(e||"",t||"",{db:{schema:"public"},auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"x-client-info":"labprompt-nextjs"}}})}},9929:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,dynamic:()=>c});var a=r(5155),s=r(2115),i=r(63),l=r(8525),o=r(3997);let n=()=>{let e=(0,i.useRouter)();(0,l.U)();let[t,r]=(0,s.useState)(!0),[n,c]=(0,s.useState)(!1),[d,m]=(0,s.useState)("dashboard"),[u,x]=(0,s.useState)(null),[h,p]=(0,s.useState)([]),[b,w]=(0,s.useState)(null),[f,N]=(0,s.useState)(!1),[g,v]=(0,s.useState)({email:"",password:"",fullName:""}),[j,y]=(0,s.useState)(!1),[_,E]=(0,s.useState)([]),[S,k]=(0,s.useState)(!1),[D,C]=(0,s.useState)({name:"",slug:"",email:"",phone:""}),[A,P]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{try{if(!await (0,o.jm)()){alert("Acesso negado. Apenas administradores master podem acessar este painel."),e.push("/dashboard");return}c(!0),await U()}catch(t){console.error("Erro ao verificar permiss\xf5es:",t),e.push("/dashboard")}finally{r(!1)}})()},[e]);let U=async()=>{try{if("dashboard"===d){let e=await (0,o.dE)();x(e)}else if("users"===d){let e=await (0,o.ZZ)();p(e)}else if("tenants"===d){let e=await (0,o._X)();E(e)}else if("subscriptions"===d){let e=await (0,o.$H)();P(e)}}catch(e){console.error("Erro ao carregar dados:",e),alert("Erro ao carregar dados: ".concat(e.message))}};(0,s.useEffect)(()=>{n&&U()},[d,n]);let T=async()=>{try{if(!D.name||!D.slug)return void alert("Nome e slug s\xe3o obrigat\xf3rios");await (0,o.JE)({name:D.name,slug:D.slug,email:D.email||void 0,phone:D.phone||void 0}),alert("Tenant criado com sucesso!"),k(!1),C({name:"",slug:"",email:"",phone:""}),await U()}catch(e){console.error("Erro ao criar tenant:",e),alert("Erro ao criar tenant: ".concat(e.message))}},q=async()=>{try{if(!g.email||!g.password||!g.fullName)return void alert("Todos os campos s\xe3o obrigat\xf3rios");if(g.password.length<8)return void alert("A senha deve ter pelo menos 8 caracteres");y(!0);let e=await (0,o.xj)({email:g.email,password:g.password,fullName:g.fullName});alert(e.message),N(!1),v({email:"",password:"",fullName:""}),await U()}catch(e){console.error("Erro ao criar usu\xe1rio:",e),alert("Erro ao criar usu\xe1rio: ".concat(e.message))}finally{y(!1)}},O=async(e,t)=>{try{let r="active"===t?"trial":"premium";if(!confirm("Deseja alterar o plano deste usu\xe1rio para ".concat("premium"===r?"Premium":"Trial","?")))return;let a=await (0,o.vD)(e,r);alert(a.message),await U()}catch(e){console.error("Erro ao alterar plano:",e),alert("Erro ao alterar plano: ".concat(e.message))}},B=async(e,t)=>{try{await (0,o.nV)(e,t),alert("Subscription atualizada com sucesso!"),await U()}catch(e){console.error("Erro ao atualizar subscription:",e),alert("Erro ao atualizar subscription: ".concat(e.message))}};return t?(0,a.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-white/10 rounded-full mx-auto mb-4",children:(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-transparent border-t-emerald-400 border-r-green-500 rounded-full animate-spin"})}),(0,a.jsx)("p",{className:"text-white/80",children:"Verificando permiss\xf5es..."})]})}):n?(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,a.jsx)("header",{className:"bg-black/80 backdrop-blur-sm border-b border-white/10 px-6 py-4",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"\uD83D\uDD10 Painel Master Admin"}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Gerenciamento completo do sistema"})]})]})})}),(0,a.jsx)("div",{className:"bg-black/60 backdrop-blur-sm border-b border-white/10",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6",children:(0,a.jsx)("div",{className:"flex space-x-1",children:["dashboard","users","tenants","subscriptions"].map(e=>(0,a.jsxs)("button",{onClick:()=>m(e),className:"px-4 py-3 font-medium transition-colors ".concat(d===e?"text-emerald-400 border-b-2 border-emerald-400":"text-white/60 hover:text-white/80"),children:["dashboard"===e&&"Dashboard","users"===e&&"Usu\xe1rios","tenants"===e&&"Tenants","subscriptions"===e&&"Assinaturas"]},e))})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:["dashboard"===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Estat\xedsticas Gerais"}),u&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[(0,a.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"Total de Usu\xe1rios"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-white",children:u.totalUsers})]}),(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[(0,a.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"Assinaturas Ativas"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-emerald-400",children:u.activeSubscriptions})]}),(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[(0,a.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"Trial Ativo"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-yellow-400",children:u.trialUsers})]}),(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[(0,a.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"Premium"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-emerald-400",children:u.premiumUsers})]}),(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[(0,a.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"Tenants"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-white",children:u.totalTenants})]})]})]}),"users"===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Usu\xe1rios"}),(0,a.jsx)("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors",children:"➕ Criar Usu\xe1rio Premium"})]}),f&&(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"\uD83C\uDF81 Criar Novo Usu\xe1rio com Premium Autom\xe1tico"}),(0,a.jsx)("p",{className:"text-white/60 text-sm mb-4",children:"O usu\xe1rio ser\xe1 criado com subscription Premium ativa automaticamente."}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white/80 text-sm mb-2",children:"Nome Completo"}),(0,a.jsx)("input",{type:"text",placeholder:"Jo\xe3o da Silva",value:g.fullName,onChange:e=>v({...g,fullName:e.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white/80 text-sm mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",placeholder:"usuario@exemplo.com",value:g.email,onChange:e=>v({...g,email:e.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white/80 text-sm mb-2",children:"Senha (m\xednimo 8 caracteres)"}),(0,a.jsx)("input",{type:"password",placeholder:"••••••••",value:g.password,onChange:e=>v({...g,password:e.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:q,disabled:j,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50",children:j?"Criando...":"✅ Criar com Premium"}),(0,a.jsx)("button",{onClick:()=>{N(!1),v({email:"",password:"",fullName:""})},className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:"Cancelar"})]})]})]}),(0,a.jsx)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-white/5",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"Nome"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"Plano"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/10",children:h.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-white/80",children:e.email}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-white/80",children:e.full_name||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm",children:e.subscription?(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.subscription.status?"bg-emerald-500/20 text-emerald-400":"trial"===e.subscription.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:"active"===e.subscription.status?"⭐ Premium":"\uD83D\uDD50 Trial"}):(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-500/20 text-gray-400",children:"Sem assinatura"})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm space-x-2",children:e.subscription&&(0,a.jsx)("button",{onClick:()=>O(e.id,e.subscription.status),className:"text-blue-400 hover:text-blue-300 text-xs",children:"active"===e.subscription.status?"\uD83D\uDD04 Mudar para Trial":"⭐ Mudar para Premium"})})]},e.id))})]})})]}),"tenants"===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Tenants"}),(0,a.jsx)("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors",children:"Criar Tenant"})]}),S&&(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Criar Novo Tenant"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Nome do Tenant",value:D.name,onChange:e=>C({...D,name:e.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"}),(0,a.jsx)("input",{type:"text",placeholder:"Slug (url-friendly)",value:D.slug,onChange:e=>C({...D,slug:e.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"}),(0,a.jsx)("input",{type:"email",placeholder:"Email (opcional)",value:D.email,onChange:e=>C({...D,email:e.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"}),(0,a.jsx)("input",{type:"text",placeholder:"Telefone/WhatsApp (opcional)",value:D.phone,onChange:e=>C({...D,phone:e.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:T,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors",children:"Criar"}),(0,a.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:"Cancelar"})]})]})]}),(0,a.jsx)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-white/5",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"Nome"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"Slug"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/10",children:_.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-white/80",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-white/80 font-mono",children:e.slug}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-white/80",children:e.email||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_active?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"),children:e.is_active?"Ativo":"Inativo"})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,a.jsx)("button",{onClick:()=>(0,o.QB)(e.id,{is_active:!e.is_active}).then(()=>U()),className:"text-emerald-400 hover:text-emerald-300",children:e.is_active?"Desativar":"Ativar"})})]},e.id))})]})})]}),"subscriptions"===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Assinaturas"}),(0,a.jsx)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-white/5",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"Usu\xe1rio"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"Plano"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-white/10",children:A.map(e=>{var t,r;return(0,a.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-white/80",children:(null==(t=e.user)?void 0:t.email)||e.user_id}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-white/80",children:(null==(r=e.plan)?void 0:r.display_name)||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-emerald-500/20 text-emerald-400":"trial"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,a.jsx)("button",{onClick:()=>B(e.id,{status:"active"===e.status?"cancelled":"active"}),className:"text-emerald-400 hover:text-emerald-300",children:"active"===e.status?"Cancelar":"Ativar"})})]},e.id)})})]})})]})]})]}):null},c="force-dynamic";function d(){return(0,a.jsx)(n,{})}}},e=>{e.O(0,[503,163,217,441,255,358],()=>e(e.s=3023)),_N_E=e.O()}]);