(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46],{63:(e,t,r)=>{"use strict";var s=r(7260);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},1330:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,dynamic:()=>n});var s=r(5155),a=r(2115),l=r(3217),o=r(63);let i=()=>{let e=(0,o.useRouter)(),[t,r]=(0,a.useState)([]),[i,n]=(0,a.useState)(!0),[d,c]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),[x,u]=(0,a.useState)(!1),[p,w]=(0,a.useState)(""),b=a.useRef(!1);(0,a.useEffect)(()=>{j().then(()=>{b.current=!0})},[]),(0,a.useEffect)(()=>{let e=()=>{b.current&&j()};return window.addEventListener("focus",e),()=>{window.removeEventListener("focus",e)}},[]);let j=async()=>{try{n(!0);let e=await (0,l.ji)();r(e||[])}catch(e){console.error("Erro ao carregar prompts:",e)}finally{n(!1)}},v=async e=>{c(e),u(!0);try{let{promptData:t}=await (0,l.XH)(e.id);m(t)}catch(e){console.error("Erro ao carregar detalhes:",e)}finally{u(!1)}},g=async e=>{if(confirm("Tem certeza que deseja excluir este prompt?"))try{await (0,l.Ir)(e),await j(),(null==d?void 0:d.id)===e&&(c(null),m(null))}catch(e){console.error("Erro ao excluir prompt:",e),alert("Erro ao excluir prompt"),await j()}},f=t.filter(e=>{var t,r,s;return(null==(t=e.title)?void 0:t.toLowerCase().includes(p.toLowerCase()))||(null==(r=e.persona)?void 0:r.toLowerCase().includes(p.toLowerCase()))||(null==(s=e.objetivo)?void 0:s.toLowerCase().includes(p.toLowerCase()))});return(0,s.jsx)("div",{className:"h-full w-full overflow-auto bg-black",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,s.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-colors border border-white/10",title:"Voltar para o Workspace",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Reposit\xf3rio de Prompts"}),(0,s.jsx)("p",{className:"text-white/60",children:"Gerencie e organize todos os seus prompts"})]})]})}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar prompts...",value:p,onChange:e=>w(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-emerald-500/50 focus:ring-1 focus:ring-emerald-500/50"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Meus Prompts"}),(0,s.jsx)("span",{className:"text-sm text-white/40 bg-white/5 px-2 py-1 rounded",children:f.length})]}),i?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin"})}):0===f.length?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-white/40",children:"Nenhum prompt encontrado"})}):(0,s.jsx)("div",{className:"space-y-2 max-h-[calc(100vh-300px)] overflow-y-auto",children:f.map(e=>(0,s.jsxs)("button",{onClick:()=>v(e),className:"\n                        w-full text-left p-4 rounded-lg border transition-all duration-200\n                        ".concat((null==d?void 0:d.id)===e.id?"bg-emerald-500/10 border-emerald-500/30 shadow-lg shadow-emerald-500/10":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20","\n                      "),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsx)("h3",{className:"font-medium text-white text-sm truncate flex-1",children:e.title||"Sem t\xedtulo"}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),g(e.id)},className:"ml-2 p-1 text-white/40 hover:text-red-400 transition-colors",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,s.jsx)("p",{className:"text-xs text-white/40 line-clamp-2 mb-2",children:e.persona||e.objetivo}),(0,s.jsx)("p",{className:"text-xs text-white/30",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]},e.id))})]})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:d?(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:d.title||"Sem t\xedtulo"}),(0,s.jsxs)("p",{className:"text-sm text-white/40",children:["Criado em ",new Date(d.created_at).toLocaleDateString("pt-BR")]})]}),(0,s.jsx)("button",{onClick:()=>{d&&e.push("/dashboard?promptId=".concat(d.id))},className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-black font-semibold rounded-lg transition-colors",children:"Usar Prompt"})]}),x?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin"})}):h?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-emerald-400 mb-2 uppercase tracking-wider",children:"Persona"}),(0,s.jsx)("p",{className:"text-white/80 bg-white/5 p-4 rounded-lg border border-white/10",children:h.persona})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-emerald-400 mb-2 uppercase tracking-wider",children:"Objetivo"}),(0,s.jsx)("p",{className:"text-white/80 bg-white/5 p-4 rounded-lg border border-white/10",children:h.objetivo})]}),h.contextoNegocio&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-emerald-400 mb-2 uppercase tracking-wider",children:"Contexto do Neg\xf3cio"}),(0,s.jsx)("p",{className:"text-white/80 bg-white/5 p-4 rounded-lg border border-white/10",children:h.contextoNegocio})]}),h.contexto&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-emerald-400 mb-2 uppercase tracking-wider",children:"Contexto"}),(0,s.jsx)("p",{className:"text-white/80 bg-white/5 p-4 rounded-lg border border-white/10",children:h.contexto})]}),h.regras&&h.regras.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-emerald-400 mb-2 uppercase tracking-wider",children:"Regras"}),(0,s.jsx)("ul",{className:"space-y-2",children:h.regras.map((e,t)=>(0,s.jsxs)("li",{className:"text-white/80 bg-white/5 p-3 rounded-lg border border-white/10 flex items-start",children:[(0,s.jsx)("span",{className:"text-emerald-400 mr-2",children:"â€¢"}),(0,s.jsx)("span",{children:e})]},t))})]})]}):null]}):(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-12 text-center",children:[(0,s.jsx)("svg",{className:"w-16 h-16 text-white/20 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),(0,s.jsx)("p",{className:"text-white/60",children:"Selecione um prompt para ver os detalhes"})]})})]})]})})},n="force-dynamic";function d(){return(0,s.jsx)(i,{})}},9814:(e,t,r)=>{Promise.resolve().then(r.bind(r,1330))}},e=>{e.O(0,[503,217,441,255,358],()=>e(e.s=9814)),_N_E=e.O()}]);