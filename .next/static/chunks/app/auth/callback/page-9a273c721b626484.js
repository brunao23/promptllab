(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{1177:(e,s,o)=>{Promise.resolve().then(o.bind(o,4369))},4369:(e,s,o)=>{"use strict";o.r(s),o.d(s,{default:()=>l,dynamic:()=>n});var r=o(5155),t=o(2115),i=o(63),a=o(8525);let n="force-dynamic";function l(){let e=(0,i.useRouter)(),s=(0,a.U)(),[o,n]=(0,t.useState)("loading"),[l,c]=(0,t.useState)("Verificando sua conta...");return(0,t.useEffect)(()=>{(async()=>{try{let o=new URLSearchParams(window.location.hash.substring(1)),r=o.get("access_token");o.get("refresh_token");let t=o.get("type");if("signup"===t||r){let{data:{session:o},error:r}=await s.auth.getSession();if(r)throw r;if(o)n("success"),c("Email confirmado com sucesso! Redirecionando..."),setTimeout(()=>{e.push("/dashboard")},2e3);else throw Error("N\xe3o foi poss\xedvel criar a sess\xe3o")}else{let{data:{session:o},error:r}=await s.auth.getSession();if(r)throw r;if(o)n("success"),c("Autentica\xe7\xe3o bem-sucedida! Redirecionando..."),setTimeout(()=>{e.push("/dashboard")},2e3);else throw Error("Token inv\xe1lido ou expirado")}}catch(o){console.error("Erro no callback de autentica\xe7\xe3o:",o),n("error");let s=o.message||"";s.includes("expired")||s.includes("expirado")?c("O link de confirma\xe7\xe3o expirou. Por favor, solicite um novo link de confirma\xe7\xe3o."):s.includes("invalid")||s.includes("inv\xe1lido")?c("Link inv\xe1lido ou j\xe1 utilizado. Por favor, verifique o link no seu email ou solicite um novo."):s.includes("already confirmed")||s.includes("j\xe1 confirmado")?(c("Seu email j\xe1 foi confirmado. Voc\xea pode fazer login agora."),setTimeout(()=>{e.push("/login")},3e3)):s.includes("rate_limit")||s.includes("limite")?c("Muitas tentativas. Por favor, aguarde alguns minutos antes de tentar novamente."):c("Erro ao confirmar seu email. Por favor, tente novamente ou entre em contato com o suporte.")}})()},[e,s]),(0,r.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center px-4 py-12",children:(0,r.jsx)("div",{className:"max-w-md w-full",children:(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-8 border border-white/10 shadow-xl text-center",children:["loading"===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6 flex justify-center",children:(0,r.jsxs)("svg",{className:"animate-spin h-12 w-12 text-emerald-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verificando..."}),(0,r.jsx)("p",{className:"text-white/60",children:l})]}),"success"===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6 flex justify-center",children:(0,r.jsx)("svg",{className:"h-12 w-12 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Email Confirmado!"}),(0,r.jsx)("p",{className:"text-white/60",children:l})]}),"error"===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6 flex justify-center",children:(0,r.jsx)("svg",{className:"h-12 w-12 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Erro na Confirma\xe7\xe3o"}),(0,r.jsx)("p",{className:"text-white/60 mb-6",children:l}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("button",{onClick:()=>e.push("/login"),className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-lg transition-all",children:"Ir para Login"}),(0,r.jsx)("button",{onClick:()=>e.push("/register"),className:"w-full py-3 bg-white/10 hover:bg-white/20 text-white font-bold rounded-lg transition-all",children:"Criar Nova Conta"})]})]})]})})})}},8525:(e,s,o)=>{"use strict";o.d(s,{U:()=>i});var r=o(6010),t=o(5704);function i(){let e=t.env.NEXT_PUBLIC_SUPABASE_URL,s=t.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;return e&&s||console.warn("⚠️ Vari\xe1veis de ambiente do Supabase n\xe3o configuradas. O cliente Supabase pode n\xe3o funcionar corretamente."),(0,r.createBrowserClient)(e||"",s||"",{db:{schema:"public"},auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"x-client-info":"labprompt-nextjs"}}})}}},e=>{e.O(0,[503,163,441,255,358],()=>e(e.s=1177)),_N_E=e.O()}]);